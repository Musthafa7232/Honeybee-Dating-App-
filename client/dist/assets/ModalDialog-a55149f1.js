import{b as s,e as K,w as S,j as h,d as q,an as Y,ao as ue,ap as fe,aq as B,_ as v,c as Z,v as G,g as ee,f as pe,ar as ge,l as $}from"./index-d1f1fba9.js";import{g as oe,a as te,s as V,u as ne,b as W,c as be}from"./useSlot-d68caabc.js";import{a as me}from"./Sheet-268b80af.js";const he=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ve(e){const o=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(o)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:o}function xe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const o=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let r=o(`[name="${e.name}"]:checked`);return r||(r=o(`[name="${e.name}"]`)),r!==e}function ye(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||xe(e))}function Me(e){const o=[],r=[];return Array.from(e.querySelectorAll(he)).forEach((t,i)=>{const n=ve(t);n===-1||!ye(t)||(n===0?o.push(t):r.push({documentOrder:i,tabIndex:n,node:t}))}),r.sort((t,i)=>t.tabIndex===i.tabIndex?t.documentOrder-i.documentOrder:t.tabIndex-i.tabIndex).map(t=>t.node).concat(o)}function De(){return!0}function Ee(e){const{children:o,disableAutoFocus:r=!1,disableEnforceFocus:t=!1,disableRestoreFocus:i=!1,getTabbable:n=Me,isEnabled:a=De,open:l}=e,c=s.useRef(!1),x=s.useRef(null),R=s.useRef(null),p=s.useRef(null),y=s.useRef(null),M=s.useRef(!1),u=s.useRef(null),C=K(o.ref,u),g=s.useRef(null);s.useEffect(()=>{!l||!u.current||(M.current=!r)},[r,l]),s.useEffect(()=>{if(!l||!u.current)return;const d=S(u.current);return u.current.contains(d.activeElement)||(u.current.hasAttribute("tabIndex")||u.current.setAttribute("tabIndex","-1"),M.current&&u.current.focus()),()=>{i||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}},[l]),s.useEffect(()=>{if(!l||!u.current)return;const d=S(u.current),D=f=>{const{current:F}=u;if(F!==null){if(!d.hasFocus()||t||!a()||c.current){c.current=!1;return}if(!F.contains(d.activeElement)){if(f&&y.current!==f.target||d.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!M.current)return;let E=[];if((d.activeElement===x.current||d.activeElement===R.current)&&(E=n(u.current)),E.length>0){var P,w;const z=!!((P=g.current)!=null&&P.shiftKey&&((w=g.current)==null?void 0:w.key)==="Tab"),O=E[0],N=E[E.length-1];typeof O!="string"&&typeof N!="string"&&(z?N.focus():O.focus())}else F.focus()}}},T=f=>{g.current=f,!(t||!a()||f.key!=="Tab")&&d.activeElement===u.current&&f.shiftKey&&(c.current=!0,R.current&&R.current.focus())};d.addEventListener("focusin",D),d.addEventListener("keydown",T,!0);const b=setInterval(()=>{d.activeElement&&d.activeElement.tagName==="BODY"&&D(null)},50);return()=>{clearInterval(b),d.removeEventListener("focusin",D),d.removeEventListener("keydown",T,!0)}},[r,t,i,a,l,n]);const k=d=>{p.current===null&&(p.current=d.relatedTarget),M.current=!0,y.current=d.target;const D=o.props.onFocus;D&&D(d)},I=d=>{p.current===null&&(p.current=d.relatedTarget),M.current=!0};return h.jsxs(s.Fragment,{children:[h.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:x,"data-testid":"sentinelStart"}),s.cloneElement(o,{ref:C,onFocus:k}),h.jsx("div",{tabIndex:l?0:-1,onFocus:I,ref:R,"data-testid":"sentinelEnd"})]})}function Re(e){return typeof e=="function"?e():e}const Ce=s.forwardRef(function(o,r){const{children:t,container:i,disablePortal:n=!1}=o,[a,l]=s.useState(null),c=K(s.isValidElement(t)?t.ref:null,r);if(q(()=>{n||l(Re(i)||document.body)},[i,n]),q(()=>{if(a&&!n)return Y(r,a),()=>{Y(r,null)}},[r,a,n]),n){if(s.isValidElement(t)){const x={ref:c};return s.cloneElement(t,x)}return h.jsx(s.Fragment,{children:t})}return h.jsx(s.Fragment,{children:a&&ue.createPortal(t,a)})}),Te=Ce;function Pe(e){const o=S(e);return o.body===e?B(e).innerWidth>o.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function L(e,o){o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function X(e){return parseInt(B(e).getComputedStyle(e).paddingRight,10)||0}function Se(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,t=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||t}function Q(e,o,r,t,i){const n=[o,r,...t];[].forEach.call(e.children,a=>{const l=n.indexOf(a)===-1,c=!Se(a);l&&c&&L(a,i)})}function U(e,o){let r=-1;return e.some((t,i)=>o(t)?(r=i,!0):!1),r}function Ie(e,o){const r=[],t=e.container;if(!o.disableScrollLock){if(Pe(t)){const a=fe(S(t));r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${X(t)+a}px`;const l=S(t).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{r.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${X(c)+a}px`})}let n;if(t.parentNode instanceof DocumentFragment)n=S(t).body;else{const a=t.parentElement,l=B(t);n=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:t}r.push({value:n.style.overflow,property:"overflow",el:n},{value:n.style.overflowX,property:"overflow-x",el:n},{value:n.style.overflowY,property:"overflow-y",el:n}),n.style.overflow="hidden"}return()=>{r.forEach(({value:n,el:a,property:l})=>{n?a.style.setProperty(l,n):a.style.removeProperty(l)})}}function Ne(e){const o=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&o.push(r)}),o}class ke{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(o,r){let t=this.modals.indexOf(o);if(t!==-1)return t;t=this.modals.length,this.modals.push(o),o.modalRef&&L(o.modalRef,!1);const i=Ne(r);Q(r,o.mount,o.modalRef,i,!0);const n=U(this.containers,a=>a.container===r);return n!==-1?(this.containers[n].modals.push(o),t):(this.containers.push({modals:[o],container:r,restore:null,hiddenSiblings:i}),t)}mount(o,r){const t=U(this.containers,n=>n.modals.indexOf(o)!==-1),i=this.containers[t];i.restore||(i.restore=Ie(i,r))}remove(o,r=!0){const t=this.modals.indexOf(o);if(t===-1)return t;const i=U(this.containers,a=>a.modals.indexOf(o)!==-1),n=this.containers[i];if(n.modals.splice(n.modals.indexOf(o),1),this.modals.splice(t,1),n.modals.length===0)n.restore&&n.restore(),o.modalRef&&L(o.modalRef,r),Q(n.container,o.mount,o.modalRef,n.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=n.modals[n.modals.length-1];a.modalRef&&L(a.modalRef,!1)}return t}isTopModal(o){return this.modals.length>0&&this.modals[this.modals.length-1]===o}}function Fe(e){return oe("MuiModal",e)}te("MuiModal",["root","backdrop"]);const Oe=s.createContext(void 0),we=Oe,ze=["children","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onKeyDown","open","component","slots","slotProps"];function Ae(e,o){o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}const $e=e=>{const{open:o}=e;return ee({root:["root",!o&&"hidden"],backdrop:["backdrop"]},Fe,{})};function je(e){return typeof e=="function"?e():e}const j=new ke,Le=V("div",{name:"JoyModal",slot:"Root",overridesResolver:(e,o)=>o.root})(({ownerState:e,theme:o})=>v({position:"fixed",zIndex:o.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&{visibility:"hidden"})),He=V("div",{name:"JoyModal",slot:"Backdrop",overridesResolver:(e,o)=>o.backdrop})(({theme:e,ownerState:o})=>v({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:e.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent"},o.open&&{backdropFilter:"blur(8px)"})),Ue=s.forwardRef(function(o,r){const t=ne({props:o,name:"JoyModal"}),{children:i,container:n,disableAutoFocus:a=!1,disableEnforceFocus:l=!1,disableEscapeKeyDown:c=!1,disablePortal:x=!1,disableRestoreFocus:R=!1,disableScrollLock:p=!1,hideBackdrop:y=!1,keepMounted:M=!1,onClose:u,onKeyDown:C,open:g,component:k,slots:I={},slotProps:d={}}=t,D=Z(t,ze),T=s.useRef({}),b=s.useRef(null),f=s.useRef(null),F=K(f,r);let P=!0;(t["aria-hidden"]==="false"||typeof t["aria-hidden"]=="boolean"&&!t["aria-hidden"])&&(P=!1);const w=()=>S(b.current),E=()=>(T.current.modalRef=f.current,T.current.mount=b.current,T.current),z=()=>{j.mount(E(),{disableScrollLock:p}),f.current&&(f.current.scrollTop=0)},O=G(()=>{const m=je(n)||w().body;j.add(E(),m),f.current&&z()}),N=()=>j.isTopModal(E()),re=G(m=>{b.current=m,m&&(g&&N()?z():f.current&&Ae(f.current,P))}),A=s.useCallback(()=>{j.remove(E(),P)},[P]);s.useEffect(()=>()=>{A()},[A]),s.useEffect(()=>{g?O():A()},[g,A,O]);const H=v({},t,{disableAutoFocus:a,disableEnforceFocus:l,disableEscapeKeyDown:c,disablePortal:x,disableRestoreFocus:R,disableScrollLock:p,hideBackdrop:y,keepMounted:M}),_=$e(H),J=v({},D,{component:k,slots:I,slotProps:d}),ae=m=>{m.target===m.currentTarget&&u&&u(m,"backdropClick")},se=m=>{C&&C(m),!(m.key!=="Escape"||!N())&&(c||(m.stopPropagation(),u&&u(m,"escapeKeyDown")))},[ie,le]=W("root",{additionalProps:{role:"presentation",onKeyDown:se},ref:F,className:_.root,elementType:Le,externalForwardedProps:J,ownerState:H}),[de,ce]=W("backdrop",{additionalProps:{"aria-hidden":!0,onClick:ae,open:g},className:_.backdrop,elementType:He,externalForwardedProps:J,ownerState:H});return!M&&!g?null:h.jsx(we.Provider,{value:u,children:h.jsx(Te,{ref:re,container:n,disablePortal:x,children:h.jsxs(ie,v({},le,{children:[y?null:h.jsx(de,v({},ce)),h.jsx(Ee,{disableEnforceFocus:l,disableAutoFocus:a,disableRestoreFocus:R,isEnabled:N,open:g,children:s.Children.only(i)&&s.cloneElement(i,v({},i.props.tabIndex===void 0&&{tabIndex:-1}))})]}))})})}),oo=Ue;function We(e){return oe("MuiModalDialog",e)}const Ke=te("MuiModalDialog",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","layoutCenter","layoutFullscreen"]),to=Ke,Be=s.createContext(void 0),Ve=Be,_e=s.createContext(void 0),Je=_e,qe=["className","children","color","component","variant","size","layout","slots","slotProps"],Ye=e=>{const{variant:o,color:r,size:t,layout:i}=e,n={root:["root",o&&`variant${$(o)}`,r&&`color${$(r)}`,t&&`size${$(t)}`,i&&`layout${$(i)}`]};return ee(n,We,{})},Ge=V(me,{name:"JoyModalDialog",slot:"Root",overridesResolver:(e,o)=>o.root})(({theme:e,ownerState:o})=>v({"--Divider-inset":"calc(-1 * var(--ModalDialog-padding))","--ModalClose-radius":"max((var(--ModalDialog-radius) - var(--variant-borderWidth, 0px)) - var(--ModalClose-inset), min(var(--ModalClose-inset) / 2, (var(--ModalDialog-radius) - var(--variant-borderWidth, 0px)) / 2))"},o.size==="sm"&&{"--ModalDialog-padding":e.spacing(2),"--ModalDialog-radius":e.vars.radius.sm,"--ModalDialog-gap":e.spacing(.75),"--ModalDialog-titleOffset":e.spacing(.25),"--ModalDialog-descriptionOffset":e.spacing(.25),"--ModalClose-inset":e.spacing(1.25),fontSize:e.vars.fontSize.sm},o.size==="md"&&{"--ModalDialog-padding":e.spacing(2.5),"--ModalDialog-radius":e.vars.radius.md,"--ModalDialog-gap":e.spacing(1.5),"--ModalDialog-titleOffset":e.spacing(.25),"--ModalDialog-descriptionOffset":e.spacing(.75),"--ModalClose-inset":e.spacing(1.5),fontSize:e.vars.fontSize.md},o.size==="lg"&&{"--ModalDialog-padding":e.spacing(3),"--ModalDialog-radius":e.vars.radius.md,"--ModalDialog-gap":e.spacing(2),"--ModalDialog-titleOffset":e.spacing(.75),"--ModalDialog-descriptionOffset":e.spacing(1),"--ModalClose-inset":e.spacing(1.5),fontSize:e.vars.fontSize.lg},{boxSizing:"border-box",boxShadow:e.shadow.md,borderRadius:"var(--ModalDialog-radius)",fontFamily:e.vars.fontFamily.body,lineHeight:e.vars.lineHeight.md,padding:"var(--ModalDialog-padding)",minWidth:"min(calc(100vw - 2 * var(--ModalDialog-padding)), var(--ModalDialog-minWidth, 300px))",outline:0,position:"absolute",display:"flex",flexDirection:"column"},o.layout==="fullscreen"&&{top:0,left:0,right:0,bottom:0,border:0,borderRadius:0},o.layout==="center"&&{top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"min(calc(100vw - 2 * var(--ModalDialog-padding)), var(--ModalDialog-maxWidth, 100vw))",maxHeight:"calc(100% - 2 * var(--ModalDialog-padding))"},{[`& [id="${o["aria-labelledby"]}"]`]:{"--Typography-margin":"calc(-1 * var(--ModalDialog-titleOffset)) 0 var(--ModalDialog-gap) 0","--Typography-fontSize":"1.125em",[`& + [id="${o["aria-describedby"]}"]`]:{"--unstable_ModalDialog-descriptionOffset":"calc(-1 * var(--ModalDialog-descriptionOffset))"}},[`& [id="${o["aria-describedby"]}"]`]:{"--Typography-fontSize":"1em","--Typography-margin":"var(--unstable_ModalDialog-descriptionOffset, var(--ModalDialog-gap)) 0 0 0","&:not(:last-child)":{"--Typography-margin":"var(--unstable_ModalDialog-descriptionOffset, var(--ModalDialog-gap)) 0 var(--ModalDialog-gap) 0"}}})),Xe=s.forwardRef(function(o,r){const t=ne({props:o,name:"JoyModalDialog"}),{className:i,children:n,color:a="neutral",component:l="div",variant:c="outlined",size:x="md",layout:R="center",slots:p={},slotProps:y={}}=t,M=Z(t,qe),{getColor:u}=be(c),C=u(o.color,a),g=v({},t,{color:C,component:l,layout:R,size:x,variant:c}),k=Ye(g),I=v({},M,{component:l,slots:p,slotProps:y}),d=s.useMemo(()=>({variant:c,color:C==="context"?void 0:C}),[C,c]),[D,T]=W("root",{ref:r,className:pe(k.root,i),elementType:Ge,externalForwardedProps:I,ownerState:g,additionalProps:{as:l,role:"dialog","aria-modal":"true"}});return h.jsx(Ve.Provider,{value:x,children:h.jsx(Je.Provider,{value:d,children:h.jsx(D,v({},T,{children:s.Children.map(n,b=>{if(!s.isValidElement(b))return b;if(ge(b,["Divider"])){const f={};return f.inset="inset"in b.props?b.props.inset:"context",s.cloneElement(b,f)}return b})}))})})}),no=Xe;export{we as C,Je as M,Ve as a,oo as b,no as c,to as m};
