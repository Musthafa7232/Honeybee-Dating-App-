import{p as I,q as z,j as e,b as o,G as i,t as h,T as v,v as H,w as T,y as U}from"./index-4b91a940.js";import{b as D,C as L,N as B}from"./Navbar-58c71366.js";import{S as V}from"./Sidebar-cbe866c9.js";import{d as $}from"./ReactToastify-d92cff4f.js";import{L as q}from"./Loader-94505f12.js";import{K as N}from"./KeepMountedModal-0da81cd1.js";import{S as b}from"./Skeleton-46470d2e.js";import{B as y}from"./Button-72ea9cc8.js";import{D as O,l as G,d as K}from"./api-9ad2fa78.js";import{B as W}from"./BoilerPlateCode-041f90b0.js";import"./Favorite-12fea0c8.js";import"./ListItem-b4ab21cf.js";import"./ListItemText-f0c20f87.js";/* empty css               */import"./Chip-8f2b4bc2.js";import"./useSlot-6db92b16.js";import"./useButton-89c26cc2.js";import"./ModalDialog-2b7fb689.js";import"./Sheet-95cece76.js";import"./styleUtils-5eda9241.js";var S={},J=z;Object.defineProperty(S,"__esModule",{value:!0});var A=S.default=void 0,Q=J(I()),X=e,Y=(0,Q.default)((0,X.jsx)("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),"ThumbUp");A=S.default=Y;var k={},Z=z;Object.defineProperty(k,"__esModule",{value:!0});var M=k.default=void 0,ee=Z(I()),te=e,se=(0,ee.default)((0,te.jsx)("path",{d:"M22 4h-2c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h2V4zM2.17 11.12c-.11.25-.17.52-.17.8V13c0 1.1.9 2 2 2h5.5l-.92 4.65c-.05.22-.02.46.08.66.23.45.52.86.88 1.22L10 22l6.41-6.41c.38-.38.59-.89.59-1.42V6.34C17 5.05 15.95 4 14.66 4h-8.1c-.71 0-1.36.37-1.72.97l-2.67 6.15z"}),"ThumbDownAlt");M=k.default=se;function ie({user:u,isLoading:r,filteredUsers:d,likeHandler:f,dislikeHandler:p}){const[j,x]=o.useState(!1),[g,l]=o.useState(""),n=t=>{l(t),x(!0)};return e.jsx(e.Fragment,{children:r?e.jsx(i,{item:!0,xs:12,sx:{my:2,position:"absolute",width:"100%"},children:e.jsx(q,{user:u})}):d.length>0?d.map(t=>e.jsxs(i,{item:!0,xs:12,sx:{my:2,position:"absolute",width:"100%"},children:[e.jsxs(D,{className:"CardItems",variant:"outlined",sx:{mb:4,minHeight:"70vh",borderRadius:6},children:[e.jsxs(h,{sx:{width:"100%",height:"40vh",position:"relative"},children:[e.jsx(h,{sx:{objectFit:"cover",width:"100%",height:"100%"},component:"img",loading:"lazy",src:t!=null&&t.coverPic?t==null?void 0:t.coverPic:"/cover-picture.png"}),e.jsx(h,{sx:{objectFit:"cover",width:150,height:150,borderRadius:"5rem",position:"absolute",top:"100%",left:{xs:"10%",sm:"33%",lg:"0%"},transform:"translate(50%, -50%)"},loading:"lazy",component:"img",src:t!=null&&t.profilePic?t==null?void 0:t.profilePic:"/avatar.jpg"})]}),e.jsx(L,{children:e.jsxs(i,{container:!0,sx:{width:"100%"},children:[e.jsx(i,{item:!0,xs:2.6}),e.jsxs(i,{item:!0,xs:7,lg:8,sx:{mt:{xs:10,lg:0}},children:[e.jsxs(v,{sx:{textAlign:{xs:"center",lg:""},fontFamily:"sans-serif",fontSize:{lg:"2rem"},fontWeight:"bold"},children:[r?e.jsx(b,{width:"15rem"}):t.fullName," ",r?e.jsx(b,{width:"5rem"}):e.jsx(v,{variant:"caption",children:t.age})]}),e.jsx(v,{sx:{textAlign:{xs:"center",lg:""},fontSize:{xs:7,lg:14}},variant:"subtitle2",children:r?e.jsx(b,{width:"13rem"}):e.jsxs(h,{sx:{display:"flex",justifyContent:"center",alignItems:"end"},children:[e.jsx($,{}),"Lives in ",t.location]})})]}),e.jsx(i,{item:!0,xs:1}),e.jsxs(i,{sx:{mt:10},item:!0,xs:12,children:[e.jsxs(i,{sx:{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"space-around"},children:[e.jsx(y,{startIcon:e.jsx(M,{}),color:"inherit",variant:"outlined",sx:{borderRadius:"1rem",px:{xs:1,lg:13}},size:`medium\r
                            \r
                            `,onClick:()=>p(t._id),children:"DisLike"}),e.jsx(y,{startIcon:e.jsx(A,{}),color:"error",variant:"outlined",sx:{borderRadius:"1rem",px:{xs:1,lg:13}},size:"medium",onClick:()=>f(t._id),children:"Like"})]}),e.jsx(i,{item:!0,sx:{mt:3},xs:12,children:e.jsx(i,{sx:{display:"flex",alignContent:"center",alignItems:"center",justifyContent:"space-around"},children:e.jsx(y,{color:"primary",variant:"outlined",sx:{borderRadius:"1rem",px:{xs:1,lg:13}},size:"medium",onClick:()=>n(t),children:"Vist Profile"})})})]})]})})]}),e.jsx(N,{user:g,setUser:l,open:j,setOpen:x,isLoading:r})]},t._id)):e.jsx(i,{item:!0,xs:11.9,lg:11,container:!0,sx:{mb:10,position:"relative"},children:e.jsx(D,{className:"CardItems",variant:"outlined",sx:{width:"100%",minHeight:"70vh",borderRadius:6,backdropFilter:"brightness(0.9) blur(15px)",backgroundColor:"rgba(255, 255, 255, 0.7)"},children:e.jsx(i,{container:!0,sx:{display:"flex",justifyContent:"center",alignContent:"center",height:"100%"},children:e.jsx(i,{sx:{},children:e.jsx("lottie-player",{src:"https://lottie.host/fd72ffec-6def-4055-bd06-6cbd9333bb25/ajpBAR9H9V.json",background:"transparent",speed:"1",style:{width:"20rem",height:"20rem"},loop:!0,autoplay:!0})})})})})})}function re(){var _,w;const u=H(),r=T(a=>a.user.user),[d,f]=o.useState([]),[p,j]=o.useState(!0),[x,g]=o.useState([]),[l,n]=o.useState({}),t={open:!1,success:!1,data:""};o.useEffect(()=>{n(t)},[]),o.useEffect(()=>{r&&setTimeout(()=>{j(!1)},4e3)},[r]),o.useEffect(()=>{O().then(a=>{f(a.data)}).catch(a=>{window.location.reload()})},[p]);let C=[];if(d){const a=(_=r==null?void 0:r.likedUsers)==null?void 0:_.map(s=>s.toString()),c=(w=r==null?void 0:r.dislikedUsers)==null?void 0:w.map(s=>s.toString());C=x==null?void 0:x.filter(s=>!a.includes(s==null?void 0:s._id.toString())&&!c.includes(s==null?void 0:s._id.toString()))}o.useEffect(()=>{g((c=>{const s=c.slice();for(let m=s.length-1;m>0;m--){const R=Math.floor(Math.random()*(m+1));[s[m],s[R]]=[s[R],s[m]]}return s})(d))},[d]);const P=async a=>{const c={User:a};try{n(t);const s=await G(c);n({data:"Liked user successfully",success:!0,open:!0}),u(U(s.data))}catch(s){n({data:"Falied to like user ",success:!1,open:!0}),console.log(s)}},E=async a=>{const c={User:a};try{n(t);const s=await K(c);n({data:"Disliked user successfully",success:!0,open:!0}),u(U(s.data))}catch(s){n({data:"Falied to dislike user ",success:!1,open:!0}),console.log(s)}};o.useEffect(()=>{console.log(l)},[l]);const F=()=>{n(t)};return e.jsx(e.Fragment,{children:e.jsx(i,{container:!0,children:e.jsxs(i,{item:!0,xs:12,lg:11,container:!0,sx:{position:"relative",minHeight:{xs:"85.7vh",lg:0}},children:[e.jsx(ie,{user:r,isLoading:p,filteredUsers:C,likeHandler:P,dislikeHandler:E}),e.jsx(W,{success:l.success,open:l.open,data:l.data,setToastClosed:F})]})})})}function _e(){return e.jsxs(i,{container:!0,spacing:12,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(B,{})}),e.jsx(i,{item:!0,xs:!0,sx:{display:{xs:"none",md:"block",lg:"block"}},children:e.jsx(V,{})}),e.jsx(i,{item:!0,xs:12,sm:12,md:8,lg:8,children:e.jsx(re,{})})]})}export{_e as default};
